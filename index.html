<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Try to get inside my heart</title>
    <link rel="stylesheet" href="styles/style.css">
</head>
<body>
    <div class="heart" onclick="redirectToTextPage()"></div>

    <div class="click-me" onclick="removeDiv()">Click me then mouse over my heart ^.^</div>

    <audio class="background-music" loop>
        <source src="our_song.mp3" type="audio/mpeg" />
    </audio>

    <script>
        var audioEnabled = false; // Biến kiểm tra trạng thái âm thanh

        // Tương tác ban đầu để bật âm thanh
        document.addEventListener('click', function() {
            if (!audioEnabled) {
                audioEnabled = true;
                audio.play(); // Phát nhạc sau khi người dùng click
                audio.pause(); // Dừng nhạc ngay để chỉ cho phép sau hover
            }
        });

        var audio = document.querySelector('.background-music');
        var heart = document.querySelector('.heart');

        heart.addEventListener('mouseover', function() {
            audio.play();
        });

        heart.addEventListener('mouseout', function() {
            audio.pause();
        });

        heart.addEventListener('touchstart', function() {
            audio.play();
        });

        heart.addEventListener('touchend', function() {
            audio.pause();
        });
        
        function redirectToTextPage() {
            window.location.href = "somethingtosay.html";
        }

        function removeDiv() {
            var clickMeDiv = document.querySelector('.click-me');
            clickMeDiv.style.display = 'none';
        }
    </script>
</body>
</html>